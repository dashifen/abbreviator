(()=>{"use strict";const e=window.wp.components,t=window.wp.richText,a=window.wp.blockEditor,o=window.wp.data,n=window.wp.primitives,i=window.ReactJSXRuntime,r=(0,i.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(n.Path,{d:"M14.103 7.128l2.26-2.26a4 4 0 00-5.207 4.804L5.828 15a2 2 0 102.828 2.828l5.329-5.328a4 4 0 004.804-5.208l-2.261 2.26-1.912-.512-.513-1.912zm-7.214 9.64a.5.5 0 11.707-.707.5.5 0 01-.707.707z"})}),l=window.wp.element,s="Abbreviation",c="dash/abbreviation",m=["core/paragraph"];function p({value:a,contentRef:o,onChange:n,onClose:r}){const m=(0,t.useAnchor)({editableContentElement:o.current,settings:d}),[p,u]=(0,l.useState)("");return(0,i.jsx)(e.Popover,{className:"block-editor-format-toolbar__abbreviator-popover",anchor:m,onClose:r,children:(0,i.jsxs)(e.__experimentalVStack,{as:"form",spacing:4,className:"block-editor-format-toolbar__abbreviator-container-content",onSubmit:e=>{e.preventDefault(),n((0,t.applyFormat)(a,{type:c,attributes:{title:p}})),r()},children:[(0,i.jsx)(e.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:"Add"+s,value:p,onChange:e=>u(e),help:"What does this abbreviation mean?"}),(0,i.jsx)(e.__experimentalHStack,{alignment:"right",children:(0,i.jsx)(e.Button,{__next40pxDefaultSize:!0,variant:"primary",type:"submit",text:"Apply"})})]})})}const d={formatTypeName:c,tagName:"abbr",className:null,edit:({isActive:e,value:n,onChange:d,contentRef:u})=>{const b=(0,o.useSelect)((e=>e("core/block-editor").getSelectedBlock()),[]);if(b&&!m.includes(b.name))return null;const[w,x]=(0,l.useState)(!1),h=()=>{x((e=>!e))};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.RichTextToolbarButton,{icon:r,label:s,title:s,isActive:e,role:"menuitemcheckbox",onClick:()=>{e?d((0,t.removeFormat)(n,c)):h()}}),w&&(0,i.jsx)(p,{value:n,onChange:d,onClose:h,contentRef:u})]})},formatTypeTitle:s};(0,t.registerFormatType)(c,{tagName:d.tagName,className:d.className,edit:d.edit,title:s})})();