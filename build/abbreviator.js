(()=>{"use strict";const e=window.wp.components,t=window.wp.richText,a=window.wp.blockEditor,o=window.wp.data,n=window.wp.primitives,i=window.ReactJSXRuntime,r=(0,i.jsx)(n.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,i.jsx)(n.Path,{d:"M14.103 7.128l2.26-2.26a4 4 0 00-5.207 4.804L5.828 15a2 2 0 102.828 2.828l5.329-5.328a4 4 0 004.804-5.208l-2.261 2.26-1.912-.512-.513-1.912zm-7.214 9.64a.5.5 0 11.707-.707.5.5 0 01-.707.707z"})}),l=window.wp.element,s="Abbreviation",c="dash/abbreviation";function m({value:a,contentRef:o,onChange:n,onClose:r}){const m=(0,t.useAnchor)({editableContentElement:o.current,settings:p}),[b,d]=(0,l.useState)("");return(0,i.jsx)(e.Popover,{className:"block-editor-format-toolbar__abbreviator-popover",anchor:m,onClose:r,children:(0,i.jsxs)(e.__experimentalVStack,{as:"form",spacing:4,className:"block-editor-format-toolbar__abbreviator-container-content",onSubmit:e=>{e.preventDefault(),n((0,t.applyFormat)(a,{type:c,attributes:{title:b}})),r()},children:[(0,i.jsx)(e.TextControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:"Add"+s,value:b,onChange:e=>d(e),help:"What does this abbreviation mean?"}),(0,i.jsx)(e.__experimentalHStack,{alignment:"right",children:(0,i.jsx)(e.Button,{__next40pxDefaultSize:!0,variant:"primary",type:"submit",text:"Apply"})})]})})}const p={formatTypeName:c,tagName:"abbr",className:null,edit:({isActive:e,value:n,onChange:s,contentRef:c})=>{const[p,b]=(0,l.useState)(!1),d=()=>{b((e=>!e))},u=(0,o.useSelect)((e=>e("core/block-editor").getSelectedBlock()),[]);return u&&"core/paragraph"!==u.name?null:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.RichTextToolbarButton,{icon:r,label:"Abbreviation",title:"Abbreviation",isActive:e,role:"menuitemcheckbox",onClick:()=>{e?s((0,t.removeFormat)(n,name)):d()}}),p&&(0,i.jsx)(m,{value:n,onChange:s,onClose:d,contentRef:c})]})},formatTypeTitle:s};(0,t.registerFormatType)(c,{tagName:p.tagName,className:p.className,edit:p.edit,title:s})})();